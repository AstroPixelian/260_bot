# **产品需求文档(PRD): 360账号批量注册工具**

**版本: 1.0**

## **1. 目标与背景 (Goals and Background Context)**

  * **目标 (Goals)**
      * 将批量注册100个账号所需的时间从数小时缩短到几分钟。
      * 为需要批量操作的专业用户（市场、测试、游戏工作室）提供一款无需编程的自动化工具。
      * 为个人用户提供一种创建少量备用账户的便捷方式。
      * 确保工具的注册成功率高于90%（在无外部阻碍的情况下）。
  * **背景 (Background Context)**
      * 本项目旨在解决在 `wan.360.cn` 网站上手动注册账号效率低下的核心痛点。当前的手动流程耗时、重复且易错，直接影响了依赖大量账号进行业务操作的用户的生产力。现有通用自动化工具门槛较高，需要编程知识。因此，开发一款专用的、带有图形用户界面的批量注册工具，能精准填补市场空白，为目标用户提供直接的价值。
  * **变更日志 (Change Log)**
    | 日期 | 版本 | 描述 | 作者 |
    | :--- | :--- | :--- | :--- |
    | 2025年8月30日 | 1.0 | 初始PRD创建 | John (PM) |

## **2. 需求 (Requirements)**

  * **功能性需求 (Functional Requirements)**
      * FR1: 应用程序必须提供一个图形用户界面(GUI)以供用户交互。
      * FR2: 用户必须能够通过GUI导入或输入一个包含待注册账户信息（如用户名、密码）的列表。
      * FR3: 用户必须能够通过GUI启动、暂停和停止批量注册任务。
      * FR4: 应用程序必须能够自动访问 `wan.360.cn` 网站，并使用用户提供的数据填写并提交注册表单。
      * FR5: 应用程序必须在界面上实时显示批量任务的进度，包括总任务数、成功数和失败数。
      * FR6: 任务完成后，应用程序必须能生成一份报告，详细说明每个账户的注册状态（成功或失败）以及失败的原因（如果可能）。
      * FR7: 当检测到需要手动干预的验证码时，应用程序必须暂停任务，并提示用户输入验证码以继续。
      * FR8: GUI界面必须以列表形式展示所有待处理和已处理的账户，并清晰地标示出每个账户当前的注册状态（如：排队中、正在注册、成功、失败）。
      * FR9: 用户必须能够通过GUI将包含所有账户及其最终注册状态的清单导出为文件（例如CSV格式）。
  * **非功能性需求 (Non-Functional Requirements)**
      * NFR1: 应用程序必须能在 Windows 10 及更高版本的操作系统上运行。
      * NFR2: 新用户应能在无帮助文档的情况下，在5分钟内理解核心功能并开始注册任务。
      * NFR3: 应用程序应能妥善处理常见的网络延迟或网站加载缓慢问题，而不会轻易崩溃。
      * NFR4: 用户的账户数据列表必须仅存储在本地计算机上。
      * NFR5: 自动化逻辑应设计为模块化，以便在目标网站前端结构发生变化时，能更容易地进行维护和更新。

## **3. 用户界面设计目标 (User Interface Design Goals)**

  * **整体用户体验愿景 (Overall UX Vision)**
      * 界面设计应追求极致的 **简洁、清晰、高效**。用户应能通过界面直观地理解和控制整个批量注册流程。
  * **核心屏幕与视图 (Core Screens and Views)**
      * **主应用窗口**: 作为一个专用工具，所有功能将集成在单一的主窗口中。
        **基础界面原型:**
        ```
        +-----------------------------------------------------------------------------+
        | 360 Batch Account Creator                                        [_] [口] [X] |
        +-----------------------------------------------------------------------------+
        | [ Import CSV ]  [  Start  ]  [  Pause  ]  [  Stop  ]   [ Export Results ]    |
        +-----------------------------------------------------------------------------+
        | Progress: [==============] 12% | Total: 100 Success: 10 Failed: 2            |
        +-----------------------------------------------------------------------------+
        | Accounts List                                                               |
        |-----------------------------------------------------------------------------|
        | Username             | Status         | Notes                               |
        |----------------------|----------------|-------------------------------------|
        | user_alpha_001       | Success        | Registered successfully.            |
        | user_alpha_002       | Failed         | Username already taken.             |
        | user_alpha_003       | Registering... |                                     |
        | ...                  | ...            |                                     |
        +-----------------------------------------------------------------------------+
        | Log Output                                                                  |
        |-----------------------------------------------------------------------------+
        | [21:12:04] INFO: Task started for 100 accounts.                             |
        +-----------------------------------------------------------------------------+
        ```
  * **目标设备与平台 (Target Device and Platforms)**
      * **平台: 桌面端**。根据需求NFR1，此应用为Windows 10/11桌面应用程序。

## **4. 技术假设 (Technical Assumptions)**

  * **仓库结构 (Repository Structure): Polyrepo**
  * **服务架构 (Service Architecture): Monolith**
  * **测试要求 (Testing Requirements): Unit + Integration**
  * **其他技术假设与建议 (Additional Technical Assumptions and Requests)**
      * **编程语言**: **Python 3.12**。
      * **浏览器自动化**: 使用 **Playwright** 库进行浏览器操作模拟。
      * **依赖管理**: 使用 **uv** 进行项目依赖和虚拟环境管理。
      * **打包与分发**: 使用 **Nuitka** 将最终产品打包成独立的 `.exe` 可执行文件。

## **5. 史诗列表 (Epic List)**

  * **史诗 1: 核心自动化引擎与基础架构 (Core Automation Engine & Infrastructure)**
      * **目标**: 建立项目基础架构，并交付核心的、可后台运行的批量注册自动化能力。
  * **史诗 2: 交互式图形界面与用户控制 (Interactive GUI & User Controls)**
      * **目标**: 构建一个功能完善且用户友好的图形界面，提供任务控制、实时状态显示和结果报告功能。

## **6. 史诗详情 (Epic Details)**

### **史诗 1: 核心自动化引擎与基础架构**

**史诗目标**: 建立一个稳定的项目基础，并实现核心的自动化注册逻辑。完成时，我们将拥有一个可以通过命令行进行测试的自动化“引擎”，为后续的GUI开发铺平道路。

  * **用户故事 1.1: 项目初始化与依赖设置**

      * **作为一名** 开发者, **我想要** 初始化一个包含标准结构和已配置好依赖（uv, Playwright）的Python项目, **以便于** 我有一个干净、可复现的基础来开始构建。
      * **验收标准**: 1. 项目已初始化为Git仓库。 2. uv环境已创建，Playwright已安装。 3. 包含基础的目录结构（`src`, `tests`）。 4. Playwright浏览器驱动已安装。

  * **用户故事 1.2: 实现单账户注册逻辑**

      * **作为一个** 系统, **我想要** 接收一个用户名和密码，并用它自动完成表单填写和提交, **以便于** 验证核心的自动化注册流程是可行的。
      * **验收标准**: 1. 有一个函数可以接收账户信息。 2. 该函数能启动Playwright并打开注册页面。 3. 能准确填入用户名和密码。 4. 能成功点击注册按钮。 5. (假设) 此故事的测试可暂时忽略验证码。

  * **用户故事 1.3: 创建基础的命令行接口 (CLI)**

      * **作为一名** 开发者, **我想要** 一个简单的命令行接口来调用注册逻辑并看到结果, **以便于** 我能在没有完整GUI的情况下方便地测试核心功能。
      * **验收标准**: 1. 可通过命令行运行脚本。 2. CLI能正确调用注册逻辑。 3. 成功或失败时，命令行能输出相应信息。

  * **用户故事 1.4: 生成随机的账户凭证**

      * **作为一名** 开发者, **我想要** 一个可以指定数量的功能来生成随机的用户名和密码, **以便于** 我能快速创建用于批量注册的测试数据。
      * **验收标准**: 1. CLI或函数可以接受一个整数N。 2. 能生成N组唯一的用户名和密码。 3. 输出格式严格为 `“账号 --- 密码”`。

  * **用户故事 1.5: 基础的错误与异常处理**

      * **作为一个** 系统, **我想要** 优雅地处理常见错误（如页面加载失败、元素未找到）, **以便于** 提升脚本的稳定性并提供有意义的反馈。
      * **验收标准**: 1. Playwright操作被包含在try-except块中。 2. 当找不到元素或注册失败时，能捕获并报告具体原因。

### **史诗 2: 交互式图形界面与用户控制**

**史诗目标**: 在核心引擎的基础上，构建一个功能完整、用户友好的图形界面。完成时，用户将能通过点击按钮、导入文件等可视化操作，轻松完成批量注册任务，并获得清晰的实时反馈和最终报告。

  * **用户故事 2.1: 基础GUI窗口与布局**

      * **作为一名** 用户, **我想要** 看到应用程序的主窗口及所有核心功能区域的布局, **以便于** 我对工具的整体结构有一个直观的认识。
      * **验收标准**: 1. 应用程序启动时显示主窗口。 2. 窗口中包含按钮区、进度区、账户列表区和日志区的占位布局。 3. 窗口可以被缩放和关闭。

  * **用户故事 2.2: 实现数据导入功能**

      * **作为一名** 用户, **我想要** 点击“导入”按钮并选择一个CSV文件，将账户信息加载到界面列表中, **以便于** 我能轻松准备大量待注册的账户。
      * **验收标准**: 1. 界面上有“导入”按钮。 2. 点击后能打开文件选择对话框。 3. 选择的CSV文件内容能被正确解析并显示在账户列表表格中。 4. 导入后，所有账户状态为“排队中”。

  * **用户故事 2.3: 连接GUI控件与核心引擎**

      * **作为一名** 用户, **我想要** 点击“开始”、“暂停”和“停止”按钮来控制批量注册过程, **以便于** 我能完全掌控自动化任务的执行。
      * **验收标准**: 1. “开始”、“暂停”、“停止”按钮功能可用。 2. 点击“开始”能启动注册流程。 3. 点击“暂停”能暂停任务，再次点击“开始”能恢复任务。 4. 点击“停止”能终止整个任务。

  * **用户故事 2.4: 在GUI中实现实时状态更新**

      * **作为一名** 用户, **我想要** 在任务运行时，实时看到账户列表和进度统计的变化, **以便于** 我能随时了解任务的详细进展。
      * **验收标准**: 1. 正在注册的账户，其状态会更新为“正在注册...”。 2. 注册完成后，状态会更新为“成功”或“失败”。 3. 备注列会更新为失败原因（如果可能）。 4. 顶部的进度统计信息会实时更新。

  * **用户故事 2.5: 实现结果导出功能**

      * **作为一名** 用户, **我想要** 在任务完成后，点击“导出”按钮将最终的账户列表和状态保存为CSV文件, **以便于** 我能获得一份可存档、可分享的结果报告。
      * **验收标准**: 1. 界面上有“导出”按钮。 2. 点击后能打开文件保存对话框。 3. 能将当前账户列表的所有内容（用户名、状态、备注）保存到用户指定的CSV文件中。

## **7. 清单检查结果报告 (Checklist Results Report)**

本文档已根据PM Master Checklist进行了初步审查。核心需求、目标和范围均已明确定义。文档结构完整，逻辑清晰，已准备好进入下一阶段的设计与架构规划。

## **8. 后续步骤 (Next Steps)**

  ***UX专家提示 (UX Expert Prompt)**: 请根据此PRD文档，特别是“用户界面设计目标”部分，开始创建详细的UI/UX规格说明文档 (`front-end-spec.md`)。请重点关注用户流程、组件细节和交互设计。
  ***架构师提示 (Architect Prompt)**: 请基于此PRD文档中定义的需求和“技术假设”，开始创建项目的技术架构文档 (`architecture.md`)。请确保架构能够支持所有功能性和非功能性需求，并遵循已确定的技术栈。
